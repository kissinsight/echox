"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1924],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>m});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},k="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),k=c(r),u=o,m=k["".concat(s,".").concat(u)]||k[u]||p[u]||a;return r?n.createElement(m,i(i({ref:t},d),{},{components:r})):n.createElement(m,i({ref:t},d))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[k]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},3517:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var n=r(7462),o=(r(7294),r(3905));const a={description:"Handling cookie",slug:"/cookies",sidebar_position:5},i="Cookies",l={unversionedId:"guide/cookies",id:"guide/cookies",title:"Cookies",description:"Handling cookie",source:"@site/docs/guide/cookies.md",sourceDirName:"guide",slug:"/cookies",permalink:"/docs/cookies",draft:!1,editUrl:"https://github.com/labstack/echox/blob/master/website/docs/guide/cookies.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{description:"Handling cookie",slug:"/cookies",sidebar_position:5},sidebar:"docsSidebar",previous:{title:"Context",permalink:"/docs/context"},next:{title:"Error Handling",permalink:"/docs/error-handling"}},s={},c=[{value:"Cookie Attributes",id:"cookie-attributes",level:2},{value:"Create a Cookie",id:"create-a-cookie",level:2},{value:"Read a Cookie",id:"read-a-cookie",level:2},{value:"Read all the Cookies",id:"read-all-the-cookies",level:2}],d={toc:c},k="wrapper";function p(e){let{components:t,...r}=e;return(0,o.kt)(k,(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"cookies"},"Cookies"),(0,o.kt)("p",null,"Cookie is a small piece of data sent from a website server and stored in the user's web\nbrowser while browsing. Every time the user loads the website, the browser\nsends the cookies back to the server to notify the server of user's latest activity.\nCookies were designed to be a reliable mechanism for websites to remember stateful\ninformation (e.g. items added to the shopping cart in an online store) or to\nrecord the user's browsing activity (such as clicking particular buttons, logging\nin, or user previously visited pages of the website). Cookies can also store form content a user has previously entered, such as username, gender, age, address, etc."),(0,o.kt)("h2",{id:"cookie-attributes"},"Cookie Attributes"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"left"},"Attribute"),(0,o.kt)("th",{parentName:"tr",align:"left"},"Optional"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"Name")),(0,o.kt)("td",{parentName:"tr",align:"left"},"No")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"Value")),(0,o.kt)("td",{parentName:"tr",align:"left"},"No")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"Path")),(0,o.kt)("td",{parentName:"tr",align:"left"},"Yes")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"Domain")),(0,o.kt)("td",{parentName:"tr",align:"left"},"Yes")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"Expires")),(0,o.kt)("td",{parentName:"tr",align:"left"},"Yes")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"Secure")),(0,o.kt)("td",{parentName:"tr",align:"left"},"Yes")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"left"},(0,o.kt)("inlineCode",{parentName:"td"},"HttpOnly")),(0,o.kt)("td",{parentName:"tr",align:"left"},"Yes")))),(0,o.kt)("p",null,"Echo uses go standard ",(0,o.kt)("inlineCode",{parentName:"p"},"http.Cookie")," object to add/retrieve cookies from the context received in the handler function."),(0,o.kt)("h2",{id:"create-a-cookie"},"Create a Cookie"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'func writeCookie(c echo.Context) error {\n    cookie := new(http.Cookie)\n    cookie.Name = "username"\n    cookie.Value = "jon"\n    cookie.Expires = time.Now().Add(24 * time.Hour)\n    c.SetCookie(cookie)\n    return c.String(http.StatusOK, "write a cookie")\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Cookie is created using ",(0,o.kt)("inlineCode",{parentName:"li"},"new(http.Cookie)"),"."),(0,o.kt)("li",{parentName:"ul"},"Attributes for the cookie are set assigning to the ",(0,o.kt)("inlineCode",{parentName:"li"},"http.Cookie")," instance public attributes.  "),(0,o.kt)("li",{parentName:"ul"},"Finally ",(0,o.kt)("inlineCode",{parentName:"li"},"c.SetCookie(cookie)")," adds a ",(0,o.kt)("inlineCode",{parentName:"li"},"Set-Cookie")," header in HTTP response.")),(0,o.kt)("h2",{id:"read-a-cookie"},"Read a Cookie"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'func readCookie(c echo.Context) error {\n    cookie, err := c.Cookie("username")\n    if err != nil {\n        return err\n    }\n    fmt.Println(cookie.Name)\n    fmt.Println(cookie.Value)\n    return c.String(http.StatusOK, "read a cookie")\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Cookie is read by name using ",(0,o.kt)("inlineCode",{parentName:"li"},'c.Cookie("username")')," from the HTTP request."),(0,o.kt)("li",{parentName:"ul"},"Cookie attributes are accessed using ",(0,o.kt)("inlineCode",{parentName:"li"},"Getter")," function.")),(0,o.kt)("h2",{id:"read-all-the-cookies"},"Read all the Cookies"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'func readAllCookies(c echo.Context) error {\n    for _, cookie := range c.Cookies() {\n        fmt.Println(cookie.Name)\n        fmt.Println(cookie.Value)\n    }\n    return c.String(http.StatusOK, "read all the cookies")\n}\n')))}p.isMDXComponent=!0}}]);